{% extends 'Base/base.html' %}
{% block content %}
{% if request.user.is_authenticated %}
    {% for item in post %}
    <article class="content-section">
        <div class="article-metadata d-flex justify-content-between align-items-center">
            <div>
                <a href="{% url 'profile' %}"><strong>{{ item.auther.username }}</strong></a>
                <small class="text-muted ml-2">{{ item.time }}</small>
            </div>
            {% comment %} {% if item.auther == request.user %} {% endcomment %}
            <div class="dropdown">
                <button class="btn btn-link text-dark p-0 post-options-btn" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    &#8942;
                </button>
                <div class="dropdown-menu dropdown-menu-right shadow-sm border-0">
                    <a class="dropdown-item" href="{% url 'edit_post' slug=item.slug %}">Edit Post</a>
                    <a class="dropdown-item text-danger" href="{% url 'delete_post' slug=item.slug %}">Delete Post</a>
                </div>
            </div>
            {% comment %} {% endif %} {% endcomment %}
        </div>
        <h2><a class="article-title" href="{% url 'post_detail' slug=item.slug %}">{{ item.title }}</a></h2>
        {% if item.image %}
            <img src="{{ item.image.url }}" class="article-img-home">
        {% endif %}
        <p class="mt-3">{{ item.content|truncatewords:40 }}</p>
    </article>
    {% endfor %}
{% else %}
    <div class="jumbotron text-center bg-white border shadow-sm" style="border-radius: 15px; padding: 4rem 2rem;">
        <h1 class="display-4">Welcome to the Blog</h1>
        <p class="lead">Please <a href="{% url 'login' %}">login</a> or <a href="{% url 'register' %}">register</a> to view the blog posts.</p>
    </div>
{% endif %}
{% endblock %}